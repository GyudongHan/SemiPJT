# Semi Project

## ğŸª ê°•ë‚¨êµ¬ ì§€ì—­ ìƒê¶Œ ê¸°ë°˜ ì‹œê°„ëŒ€ë³„ í¸ì˜ì  ë§¤ì¶œ ì˜ˆì¸¡

- ì£¼ì œ : í¸ì˜ì  ìš´ì˜ ì‹œê°„ëŒ€ ì„ íƒì„ ë„ì™€ ìš´ì˜ ë¶€ë‹´ ê°ì†Œë¥¼ ìœ„í•œ "ê°•ë‚¨êµ¬ ì§€ì—­ ìƒê¶Œ ê¸°ë°˜ ì‹œê°„ëŒ€ë³„ ë§¤ì¶œ ì˜ˆì¸¡"

- ì¼ì • : 2023/09/01 ~ 2023/09/26

- Value Trackers íŒ€ : í•œê·œë™, ê¹€ì„±ì›, ê¹€ì‹ ìš°, ë¥˜ë¯¼ìŠ¹

<br>
</br>

### Requirements
![python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=Python&logoColor=white)
![Jupyter](https://img.shields.io/badge/jupyter-F37626?style=for-the-badge&logo=jupyter&logoColor=white)
![Pandas](https://img.shields.io/badge/Pandas-FFDC28?style=for-the-badge&logo=Pandas&logoColor=white)
![Numpy](https://img.shields.io/badge/numpy-013243?style=for-the-badge&logo=numpy&logoColor=white)
![plotly](https://img.shields.io/badge/plotly-3F4F75?style=for-the-badge&logo=plotly&logoColor=white)
![scikitlearn](https://img.shields.io/badge/scikitlearn-F7931E?style=for-the-badge&logo=scikitlearn&logoColor=white)
![streamlit](https://img.shields.io/badge/streamlit-FF4B4B?style=for-the-badge&logo=streamlit&logoColor=white)
![folium](https://img.shields.io/badge/folium-77B829?style=for-the-badge&logo=folium&logoColor=white)
![Geopandas](https://img.shields.io/badge/Geopandas-3776AB?style=for-the-badge&logo=Python&logoColor=white)

- Language : Python 3.11.5

- Python Library

```
numpy==1.25.2
pandas==2.0.3
matplotlib==3.7.2
seaborn==0.12.2
plotly==5.9.0
scikit-learn==1.3.0
streamlit==1.24.1
lightgbm==3.3.5
joblib==1.2.0
shapley
streamlit_option_menu
folium
polygon
Shapely
pyproj
```

<br>
</br>

## ğŸ’¡ í”„ë¡œì íŠ¸ ê²°ê³¼

- ëŒ€ì‹œë³´ë“œ ë§í¬ : [Streamlit_ëŒ€ì‹œë³´ë“œ](https://procspredictor.streamlit.app/)

- **ì‹œê°„ëŒ€ ë³„ ë§¤ì¶œ ì‹œê°í™”** : ìƒê¶Œê³¼ ë¶„ê¸°ë¥¼ ì„ íƒì‹œ, ì‹œê°„ëŒ€ë³„ í¸ì˜ì  ì˜ˆìƒ ë§¤ì¶œ í™•ì¸ ê°€ëŠ¥ â¡ íš¨ìœ¨ì ì¸ ë§¤ì¥ ìš´ì˜ ì‹œê°„ ì±„íƒì‹œ ë„ì›€

- **ëª¨ë¸ë§ ì‹œë®¬ë ˆì´ì…˜** : ì‹œê°„ëŒ€ë³„ ë§¤ì¶œì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³€ìˆ˜ë¥¼ ì§ì ‘ ì¡°ì ˆí•˜ë©° ì˜ˆì¸¡ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ

<img title="" src="./sample_img/streamlit_01.png" alt="local" data-align="center" width="453">

<br>
</br>

## ğŸ’¡ ê¸°ëŒ€íš¨ê³¼

- ì˜ì—… ì‹œê°„ëŒ€ë³„ ë§¤ì¶œ ì˜ˆì¸¡ìœ¼ë¡œ ë§¤ì¥ ìš´ì˜ì‹œê°„ ì„ íƒê³¼ ë¹„ìš© ì ˆê° ë„ëª¨

- íš¨ìœ¨ì  ìì›ë°°ë¶„ ì˜ì‚¬ê²°ì • ë„ì›€(ì¸ë ¥ ê³„íš ë° ì¬ê³  ê´€ë¦¬)

- ì°½ì—… ì‹œ ì…ì  ì§€ì—­ ì„ íƒ ì‹œ, ì˜ˆìƒ ë¹„ìš©ê³¼ ë§¤ì¶œì„ ê³ ë ¤í•  ìˆ˜ ìˆëŠ” ìë£Œ ì œê³µ

---

<br>
</br>

### 1. ì£¼ì œ ì„ ì • ë°°ê²½

- ê³¼ì—´ë˜ëŠ” ê²½ìŸ ì†ì˜ í¸ì˜ì  : ì§€ì—­ ì í¬ë‹¹ ë§¤ì¶œì€ ê°ì†Œí•˜ë©° íì—… ìˆ˜ëŠ” ì¦ê°€

- ì „ê¸°ìš”ê¸ˆ, ì¸ê±´ë¹„ ë“± ê´€ë¦¬ë¹„ ìš”ê¸ˆì˜ ì§€ì†ì  ì¦ê°€ë¡œ ì‹¬í•´ì§€ëŠ” ì˜ì—… ë¶€ë‹´

- 24ì‹œê°„ ê³„ì•½ì„ ìœ ë„í•˜ëŠ” ë¸Œëœë“œì— ëŒ€í•´ í˜„ì‹¤ì ìœ¼ë¡œ ë§¤ì¶œì„ ì˜ˆì¸¡í•˜ê³  ì˜ì—…ì‹œê°„ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ì¤€ì˜ ë¶€ì¬

> **ì£¼ì œì˜ ëª©ì  ë° í•„ìš”ì„±**
>  ğŸ‘‰ ë§¤ì¥ ìš´ì˜ íš¨ìœ¨ì„± ì¦ê°€ ë° ì†ìµ íŒë‹¨ì„ ìœ„í•œ ì…ì§€ ê¸°ë°˜ ë§¤ì¶œ ì •ë³´ ì œê³µ í•„ìš”  

<br>
</br>

### 2. ë¶„ì„ ëŒ€ìƒ ì„ ì •(ê°•ë‚¨êµ¬)

- ë¶„ì‚° ë¶„ì„ì„ í†µí•´ ì„œìš¸ì‹œ ì„œë¡œ ë‹¤ë¥¸ ìƒê¶Œ 4ê°œë¥¼ ê¸°ì¤€, ì‹œê°„ëŒ€ë³„ ë§¤ì¶œì— í†µê³„ì  ì°¨ì´ê°€ ìˆìŒì„ í™•ì¸

- ê°œì—… ëŒ€ë¹„ íì—… ìˆ˜ê°€ ê°€ì¥ ë§ì€ **ê°•ë‚¨êµ¬** â¡ ê²½ìŸì´ ì‹¬í™”ë˜ë©° ë§¤ì¶œì€ ì¤„ì–´ë“œëŠ” í˜„ì‹¤ ë°˜ì˜

<br>
</br>

### 3. ë¶„ì„ í”„ë¡œì„¸ìŠ¤

- ë°ì´í„° ìˆ˜ì§‘ â¡ ì „ì²˜ë¦¬(ì´ìƒì¹˜, ê²°ì¸¡ì¹˜) â¡ ìƒê¶Œì½”ë“œ ê¸°ë°˜ ë¶„ê¸°ë³„, ì‹œê°„ë³„ ë°ì´í„° ë§¤í•‘ â¡ ìƒê¶Œ êµ°ì§‘í™” ì‹œë„(K-means Clustering) â¡ ê³¨ëª©/ë¹„ê³¨ëª© ìƒê¶Œ ê¸°ë°˜ ëª¨ë¸ë§ ì±„íƒ

- Feature Engineeringì„ í†µí•œ íŒŒìƒë³€ìˆ˜ ìƒì„± ë° ìµœì¢… ë³€ìˆ˜ ì±„íƒ

- LightGBMì„ í™œìš©í•œ ëª¨ë¸ë§ ë° í•˜ì´í¼ íŒŒë¼ë¯¸í„° ì„¤ì •

- ìµœì¢… ì˜ˆì¸¡ ëª¨ë¸ ë„ì¶œ ë° ì„±ê³¼ í™•ì¸(RMSE)

- Streamlit ëŒ€ì‹œë³´ë“œ ë° í”„ë ˆì  í…Œì´ì…˜ ìë£Œ ì‘ì„±
  
  <br>
  </br>

### 4. ë°ì´í„° ì¢…í•©

![](./sample_img/Data.png)
<br>
</br>

### 5. Feature Engineering

#### (1) íŒŒìƒë³€ìˆ˜ ìƒì„±

- ì´ˆê¸° ëª¨ë¸ë§ í‰ê°€ í›„, ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•œ feature engineering ì‹œí–‰

- ê¸°ë³¸ í”¼ì²˜ë¥¼ ë¶„ì„í•˜ì—¬ ìœ ì˜ë¯¸ í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” íŒŒìƒë³€ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ë³€ìˆ˜ ì„ íƒ ì‹œí–‰

![features](./sample_img/feature_engineering.png)

#### (2) ë³€ìˆ˜ ì„ íƒ

- ì„ íƒ ë°©ë²• : ì „ì§„ì„ íƒë²• & í›„ì§„ì œê±°ë²•ì„ ê²°í•©í•œ ë‹¨ê³„ì ì„ íƒë²• í™œìš©

- íŒŒìƒë³€ìˆ˜ ê°ê°ì˜ ì˜ˆì¸¡ ì„±ëŠ¥ ì˜í–¥ë„ í™•ì¸

<img title="" src="./sample_img/forward_selection.png" alt="ì „ì§„" width="500">

- íŒŒìƒë³€ìˆ˜ì™€ ì´ˆê¸°ë³€ìˆ˜ ì „ì²´ì˜ ì˜ˆì¸¡ ì„±ëŠ¥ì„ ê³ ë ¤í•˜ì—¬ ë³€ìˆ˜ ì„ íƒ

<img title="" src="./sample_img/backward_selection.png" alt="í›„ì§„" width="436" data-align="left">

<br>
</br>

### 6. ëª¨ë¸ë§

- ë¹„êµì  ì§§ì€ í•™ìŠµ ì‹œê°„ê³¼, ì˜ˆì¸¡ ì˜¤ë¥˜ ì†ì‹¤ì„ ìµœì†Œí™” 

- ëŒ€ìš©ëŸ‰ ë°ì´í„°ì— ë›°ì–´ë‚œ ì˜ˆì¸¡ ì„±ëŠ¥

- ë‹¨, ì „ì²´ ë°ì´í„° ê°œìˆ˜ê°€ ì ì„ ê²½ìš° ê³¼ì í•© ìš°ë ¤
  
  **ğŸ‘‰ K-fold êµì°¨ ê²€ì¦
  ğŸ‘‰ RandomSearchCV ë¡œ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹**

<br>
</br>

### 7. í‰ê°€ ì§€í‘œ ì„ íƒ(RMSE)

- ì¢…ì†ë³€ìˆ˜(ë§¤ì¶œì•¡)ì˜ ì™œë„ : ì•½ 2.5

- ê· ì¼í•˜ì§€ ì•Šì€ ë¶„í¬ì˜ ë°ì´í„°ì…‹ ì˜ˆì¸¡ ì„±ëŠ¥ ì¸¡ì •ì„ ìœ„í•´ **RMSE ì„ íƒ**
  ![sales](./sample_img/Sales_hist.png)

<br>
</br>

### 8. ëª¨ë¸ë§ ê²°ê³¼

> ##### ê³¨ëª©ìƒê¶Œ ì˜ˆì¸¡ ì„±ëŠ¥ ì˜¤ë¥˜ ê°œì„ 
> 
> RMSE 42666 â¡ 41951
> 
> ##### ë¹„ê³¨ëª©ìƒê¶Œ ì˜ˆì¸¡ ì„±ëŠ¥ ì˜¤ë¥˜ ê°œì„ 
> 
> RMSE 42666 â¡ 33248

<br>
</br>

## ğŸ“¦ ì•„í‚¤í…ì³

```
ğŸ“¦ConvenienceStore_Sales_Forecast
 â”£ ğŸ“‚code
 â”ƒ â”£ ğŸ“‚crawling
 â”ƒ â”£ ğŸ“‚feature engineering
 â”ƒ â”£ ğŸ“‚modeling
 â”ƒ â”£ ğŸ“‚preprocessing
 â”£ ğŸ“‚rawdata
 â”ƒ â”£ ğŸ“‚business_district
 â”ƒ â”£ ğŸ“‚public_transport
 â”£ ğŸ“‚streamlit
 â”ƒ â”£ ğŸ“‚__pycache__
 â”ƒ â”£ ğŸ“‚data
 â”ƒ â”£ ğŸ“‚models
 â”— â”— ğŸ“‚pages
```

